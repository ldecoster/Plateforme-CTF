<table id="votesboard" class="table table-striped">
	<thead>
	<tr>
		<td class="text-center"><b>User</b></td>
		<td class="text-center"><b>Vote</b></td>
		<td class="text-center"><b>Settings</b></td>
	</tr>
	</thead>
	<tbody>
	{% for vote in votes %}
		<tr name="{{ vote.id }}">
			<td class="text-center">{{ vote.user.name }}</td>
			<td class="text-center vote-value">{% if vote.value == 1 %}Positive{% else %}Negative{% endif %}</td>
			<td class="text-center">
                {% if (is_admin() or (session["id"] == vote.user.id)) and challenge.state == "voting" %}
				    <i role="button" class="btn-fa fas fa-edit edit-vote" vote-id="{{ vote.id }}"></i>
				    <i role="button" class="btn-fa fas fa-times delete-vote" vote-id="{{ vote.id }}"></i>
                {% endif %}
			</td>
		</tr>
	{% endfor %}
	</tbody>
</table>

<div class="col-md-12">
    {% if challenge.state == 'visible' %}
        <button id="vote-add-button" class="btn btn-secondary d-inline-block float-right" disabled>
            Challenge already visible
        </button>
    {% elif challenge.state == 'hidden' %}
        <button id="vote-add-button" class="btn btn-secondary d-inline-block float-right" disabled>
            Challenge is hidden
        </button>
    {% elif challenge.state == 'voting' %}
        {% if challenge.author_id == session["id"] %}
            <button id="vote-add-button" class="btn btn-secondary d-inline-block float-right" disabled>
                Cannot vote for your own challenge
            </button>
        {% elif user_has_voted is not none %}
            <button id="vote-add-button" class="btn btn-secondary d-inline-block float-right" disabled>
                Already voted
            </button>
        {% else %}
            <button id="vote-add-button" class="btn btn-success d-inline-block float-right">Add Vote</button>
        {% endif %}
    {% endif %}
</div>